<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Biblioteca</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header class="main-header">
        <div class="logo-area">
            <img src="logo.png" alt="Logo Biblioteca" class="logo-img">
            <div class="texto-logo">
                <h1>Biblioteca Municipal</h1>
                <span class="subtitulo-logo">Acervo e Eventos</span>
            </div>
        </div>
        <nav class="main-nav">
            <button class="nav-btn active" data-target="secao-gerenciamento">Gerenciamento</button>
            <button class="nav-btn" data-target="secao-analise">Análises</button>
            <button class="nav-btn" data-target="secao-usuario">Cadastrar Usuário</button>
        </nav>
    </header>

    <main class="container-principal">

        <section id="secao-gerenciamento" class="view-section active">
            <div class="toolbar-gerenciamento">
                <div class="tabs-container">
                    <button class="tab-btn active" data-tabela="acervo">Acervo</button>
                    <button class="tab-btn" data-tabela="usuarios">Usuários</button>
                    <button class="tab-btn" data-tabela="emprestimos">Empréstimos</button>
                    <button class="tab-btn" data-tabela="infraestrutura">Infraestrutura</button>
                    </div>
                
                <div class="controles-superiores">
                    <button id="btn-colunas" class="btn-secundario">Colunas</button>
                    <button id="btn-add-filtro" class="btn-primario">Novo Filtro</button>
                </div>
            </div>

            <div class="card-conteudo">
                <div class="card-header">
                    <h2 id="titulo-tabela-dinamica">Itens do Acervo</h2>
                    <div id="area-filtros-ativos" class="area-chips"></div>
                </div>

                <div class="table-responsive">
                    <table id="tabela-dinamica">
                        <thead><tr id="linha-cabecalho"></tr></thead>
                        <tbody id="corpo-tabela"></tbody>
                    </table>
                </div>
                <div class="rodape-tabela">
                    Total: <strong id="contador-registros">0</strong> registros
                </div>
            </div>
        </section>

        <section id="secao-analise" class="view-section hidden">
            <div class="card-conteudo">
                <h2>Painel de Análise</h2>
                <div class="form-grupo">
                    <label for="select-analise">Selecione a Análise:</label>
                    <select id="select-analise" name="select-analise">
                        <option value="usuarios-top-emprestimos">Top Usuários (Empréstimos)</option>
                        <option value="infra-mais-reservada">Infraestruturas Mais Reservadas</option>
                        <option value="itens-nunca-emprestados">Itens Nunca Emprestados</option>
                        <option value="taxa-pontualidade">Taxa de Pontualidade</option>
                        <option value="ranking-itens-emprestados">Ranking de Itens</option>
                        <option value="infra-sem-uso">Infraestrutura Sem Uso</option>
                    </select>
                </div>
                <button id="btnCarregarAnalise" class="btn-primario">Consultar</button>
                <h3>Resultados:</h3>
                <ul id="lista-resultados-analise" class="lista-resultados"></ul>
            </div>
        </section>

        <section id="secao-usuario" class="view-section hidden">
            <div class="card-conteudo">
                <h2>Cadastrar Novo Usuário</h2>
                <form id="form-cadastro">
                    <div class="form-grupo">
                        <label for="cpf">CPF (somente números)</label>
                        <input type="text" id="cpf" name="cpf" required maxlength="11">
                    </div>
                    <div class="form-grupo">
                        <label for="nome">Nome Completo</label>
                        <input type="text" id="nome" name="nome" required>
                    </div>
                    <div class="form-grupo">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-grupo">
                        <label for="data_cadastro">Data de Cadastro</label>
                        <input type="date" id="data_cadastro" name="data_cadastro" required>
                    </div>
                    <button type="submit" id="btnCadastrar" class="btn-primario">Cadastrar</button>
                </form>
                <div id="mensagem-cadastro"></div>
            </div>
        </section>

    </main>

    <div id="modal-filtro" class="modal oculto">
        <div class="modal-content">
            <h3>Adicionar Filtro</h3>
            <div class="form-grupo">
                <label>Campo:</label>
                <select id="select-campo"></select>
            </div>
            <div class="form-grupo">
                <label>Condição:</label>
                <select id="select-operador">
                    <option value="eq">Igual a (=)</option>
                    <option value="contains">Contém</option>
                    <option value="gt">Maior que (>)</option>
                    <option value="lt">Menor que (<)</option>
                    <option value="gte">Maior ou igual (>=)</option>
                    <option value="lte">Menor ou igual (<=)</option>
                    <option value="neq">Diferente de (!=)</option>
                </select>
            </div>
            <div class="form-grupo">
                <label>Valor:</label>
                <input type="text" id="input-valor">
            </div>
            <div class="modal-actions">
                <button id="btn-cancelar-filtro" class="btn-secundario">Cancelar</button>
                <button id="btn-aplicar-filtro" class="btn-primario">Aplicar</button>
            </div>
        </div>
    </div>

    <div id="modal-colunas" class="modal oculto">
        <div class="modal-content">
            <h3>Exibir Colunas</h3>
            <div id="lista-checkbox-colunas" class="grid-checkbox"></div>
            <div class="modal-actions">
                <button id="btn-fechar-colunas" class="btn-primario">Concluir</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>